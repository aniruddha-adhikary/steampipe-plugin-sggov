# Prompts Used

This project is almost entirely generated by a Large Language Model! I don't even know
enough Go to write this on my own. I am not kidding. Here's how I did it.

## Setting up a Blank Canvas

1. I created a blank Go project using the GoLand IDE from JetBrains.
2. I created an [OpenAPI Specification](./dev_docs/singstat-table-builder.openapi.yml) for the 
[SingStat Table Builder API](https://tablebuilder.singstat.gov.sg/view-api/for-developers)
as `./dev_docs/singstat-table-builder.openapi.yml`.
3. I copied over the [Writing Plugins](https://steampipe.io/docs/develop/writing-plugins#maingo)
page as Markdown (`./dev_docs/writing-plugins.md`).
4. I cloned the [steampipe-csv-plugin](https://github.com/turbot/steampipe-plugin-csv/tree/main)
into the working directory, and `.gitignore`-d it.

`2` and `3` are there to provide context for the development process.
`4` is to give an example.

## Initialising Aider

I used [aider](http://aider.chat) as my coding sidekick, and the `gpt-4-1106-preview` model.

## Stage 1 Development Prompts

This stage only creates the integration with the dataset listings. The actual loading of datasets
comes in Stage 2.

- Add API Spec, Plugin Development Documentation and the base `Go source` code files from the empty project.
    ```text
    /add dev_docs/singstat-table-builder.openapi.yml 
    /add dev_docs/writing-plugins.md 
    /add go.mod 
    /add main.go  
    ```
    > Note: `/add` adds files from file system into the context of the LLM.
- Add the bare minimum "example code" from the `steampipe-csv-plugin` project.
    ```text
    /add steampipe-plugin-csv/csv/plugin.go 
    /add steampipe-plugin-csv/csv/table_code_csv.go 
    /add steampipe-plugin-csv/csv/utils.go 
    /add steampipe-plugin-csv/main.go  
    ```
- Tell it to write the plugin!
    ```text
    take inspiration from steampipe-plugin-csv. Write a plugin for singstat table builder resource searching.
    The virtual table name should be singstat.
    ```
- Whoops, GPT made a mistake, unknown reference. Thus, feeding it the correct "struct" structure.
    ```text
    quals := d.KeyColumnQuals
    Unresolved reference 'KeyColumnQuals'.
    `QueryData` looks like this: type QueryData struct {  ..... }
    ```

You can check my commit logs to get all the shenanigans! Cheers!